# Telegram Weather Bot

–î–∞–Ω–Ω—ã–π –±–æ—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è. –Ø –Ω–µ –∂–∞–¥–Ω—ã–π! üòä

## –°—Ç–∞—Ä—Ç

–ß—Ç–æ–±—ã –≤—Å—ë —Ä–∞–±–æ—Ç–∞–ª–æ, –Ω—É–∂–Ω–æ:

 -  –ó–∞–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç [Dadata](https://dadata.ru/) –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.

 -  –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ [—Ç—ã–∫](https://dadata.ru/profile/#info) –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π API –∫–ª—é—á.

 -  –ó–∞–π—Ç–∏ –Ω–∞ [OpenWeatherMap](https://openweathermap.org/) –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.

 -  –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ [—Ç—ã–∫](https://home.openweathermap.org/api_keys) —Å–æ–∑–¥–∞—Ç—å –∏ –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π API –∫–ª—é—á.

 -  –ó–∞–π—Ç–∏ –≤ –¢–µ–ª–µ–≥—Ä–∞–º –∏ –≤ [BotFather](https://t.me/BotFather) —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ–µ–≥–æ –±–æ—Ç–∞ –∏ –ø–æ–ª—É—á–∏—Ç—å –µ–≥–æ API.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –ø–æ–ª—É—á–∏–ª–∏ –≤—Å–µ –∫–ª—é—á–∏, –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞—ë–º `.env` —Ñ–∞–π–ª —Å —Ç–∞–∫–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º: 
```env
Dadata_token="–í–∞—à Dadata —Ç–æ–∫–µ–Ω"
telegram_token="–¢–µ–ª–µ–≥—Ä–∞–º–º —Ç–æ–∫–µ–Ω"
openWeatherMap="–¢–æ–∫–µ–Ω —Å OpenWeather"
```

–ò–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–µ –º–µ–Ω—è—Ç—å, —Ç–æ–ª—å–∫–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º:
```bash
pip install -r requirements.txt
```
–≠—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ç–æ–≥–¥–∞ –ø–∏—à–µ–º:

```bash
pip install <–∏–º—è –ø–∞–∫–µ—Ç–∞ –ø–æ –æ—á–µ—Ä–µ–¥–∏ –∏–∑ requirements.txt>
```
–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –≤–µ—Ä—Å–∏–∏ pip, –ø–∏—à–∏—Ç–µ –ª–∏–±–æ `pip`, –ª–∏–±–æ `pip3`.

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ –∑–∞–ø—É—Å–∫–∞–µ–º:

```bash
python main.py
```
## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `sqlite3` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –Ø —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Å–µ–±—è –∏ –¥–ª—è –æ–±–ª–µ–≥—á–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞–ø–∏—Å–∞–ª —Ä–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã. 

- –§–∞–π–ª `get_all.py` - –ø–æ–ª—É—á–∞–µ—Ç –≥–æ—Ä–æ–¥ –ø–æ —à–∏—Ä–æ—Ç–µ –∏ –¥–æ–ª–≥–æ—Ç–µ —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–∏—Å–∞ Dadata.
- –§–∞–π–ª `db.py` - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

–ö—Å—Ç–∞—Ç–∏, –±–µ—Ä–∏—Ç–µ –Ω–∞ –≤–æ–æ—Ä—É–∂–µ–Ω–∏–µ —ç—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç, —É–¥–æ–±–Ω–æ! üòä –ü–æ–≥–æ–¥—É —è –ø–æ–ª—É—á–∞—é —á–µ—Ä–µ–∑ OpenWeatherMap. –ü—Ä–æ—Å—Ç–æ –≤–ø–∏—Å—ã–≤–∞–µ—Ç–µ –≥–æ—Ä–æ–¥ –∏ —Å–≤–æ–π API, –∏ –ø–æ–ª—É—á–∞–µ—Ç–µ –ø–æ–≥–æ–¥—É, —É–¥–æ–±–Ω–æ! 

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ, —á—Ç–æ –∑–¥–µ—Å—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—á—Ç–∏ –Ω–∞ –∫–æ—Å—Ç—ã–ª—è—Ö, —ç—Ç–æ –∫–Ω–æ–ø–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è. –û–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ Reply, —Ç–æ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –Ω–∞–∂–∏–º–∞—è –Ω–∞ –∫–Ω–æ–ø–∫—É, —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω—É–∂–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –¥–µ–ª–∞—Ç—å. –ï–π –±–æ–≥—É, –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Inline –∫–Ω–æ–ø–∫–∏, –Ω–æ —è –Ω–µ –Ω–∞—à—ë–ª, –º–æ–∂–Ω–æ –ª–∏ –ø–æ –Ω–∞–∂–∞—Ç–∏—é –Ω–∞ Inline –∫–Ω–æ–ø–∫—É –ø–æ–ª—É—á–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ (–∏–º–µ–µ—Ç –ª–∏ –∫–Ω–æ–ø–∫–∞ –∞—Ç—Ä–∏–±—É—Ç `request_location` –∏–ª–∏ –Ω–µ—Ç).

## –ê–≤—Ç–æ—Ä—ã

- [kostya2023](https://www.github.com/kostya2023)